@import 'cd/cd-mixins';

.block-facets {
  margin-bottom: 2rem;
}

.block-facets h2 {
  @extend .cd-heading-3;
}

.block-facets ul {
  margin: 0;
  padding: 0;
}

.block-facets li {
  list-style-type: none;
}

.facet-item .is-active {
  font-weight: 700;
}

// This emulates the cd-bullet-list component using CSS bg image instead of SVG element in markup.
.block-facet--links li {
  a {
    display: block;
    margin-bottom: 1rem;
    position: relative;
  }

  a::before {
    display: inline-block;
    height: 9px;
    width: 9px;
    margin-right: 1rem;
    content: '';
    // sass-lint:disable quotes
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%5C %3Cpath fill='%23ff4d59' d='M14,48a4,4,0,0,1-2.83-6.83L28.34,24,11.17,6.83a4,4,0,0,1,5.66-5.66l20,20a4,4,0,0,1,0,5.66l-20,20A4,4,0,0,1,14,48Z'/%3E%5C %3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 0 0;
  }
}

.block-facets select {
  width: 100%;
}

// Various overrides to control select2 elements widths when options are wider than parent element.
.block-facets .select2-container {
  overflow: hidden;
}

.block-facets .select2-container--default .select2-search--inline .select2-search__field {
  width: auto !important;
}

.block-facets .select2-container .select2-selection--single .select2-selection__rendered,
.block-facets .select2-container .select2-selection--multiple .select2-selection__rendered {
  white-space: unset;
}

//@TODO this, better.
#cd-filters-dropdown-toggler {
  -webkit-appearance: none;
  border-radius: 0;
  box-shadow: none;
  border: 0;
  padding: 1rem;
  font-size: 1rem;
  font-weight: bold;
  background: $implementation-primary-dark;
  color: $cd-light-grey;
  transition: background 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;

  &:hover,
  &:focus {
    background: $implementation-primary;
    color: $cd-white;
  }

  svg {
    fill: $cd-white;
    width: 2rem;
    height: 2rem;
    padding: 0 0.5rem 0 0;
  }

  &:hover svg,
  &:focus svg {
    fill: $cd-white;
  }

  @include tablet {
    display: none;

    + .cd-dropdown[data-cd-hidden="true"] {
      display: block;
    }
  }
}

.block-facets-summary {
  background-color: $cd-light-grey;
  //color: $p-dark-text;
  font-size: 0.8rem;
  padding: 1rem;

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  a {
    text-decoration: none;
  }

  a:hover,
  a:focus {
    text-decoration: underline;
    color: $cd-black;

    svg {
      fill: $cd-black;
    }
  }

  .facet-item__status {
    font-size: 1rem;
    font-weight: bold;

    svg {
      fill: $implementation-primary;
      height: 0.5rem;
      width: 0.5rem;
    }
  }

  .facet-item__value {
    font-weight: bold;
  }

  // Hide Summary block title.
  h2 {
    position: absolute !important;
    clip: rect(1px, 1px, 1px, 1px);
    overflow: hidden;
    height: 1px;
    width: 1px;
    word-wrap: normal;
  }
}
